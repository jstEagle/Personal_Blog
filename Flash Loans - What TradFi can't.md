---
title: Flash Loans - What TradFi can't
date: 2025-08-09
author: jstEagle
tags:
  - DeFi
  - Blockchain
  - Educational
  - Programming
---
Imagine having access to **millions** of dollars worth of liquidity for a few seconds. Make any trade. Do *anything* you want. Without having to put down **any** collateral.

That makes no sense right? How could that possibly work? Who would do such a thing? And why is this so exciting for DeFi as a whole?
______
### From the beginning
Loans or the act of lending something for something else is as old as civilisation. The first recorded loans we can trace occurred in ancient Mesopotamia around 4 thousand years ago.

>In early Sumerian and Babylonian city-states, farmers often needed seeds or food to get through until the next harvest. Wealthy landowners or temple authorities would lend them **measured amounts of barley** or silver, recorded on clay tablets in cuneiform. These tablets included the amount borrowed, the due date (often tied to harvest season), and the interest rateâ€”sometimes as high as **20% for silver** and **33% for grain**. - GPT5 (with some double checking on google)

Since then we have begun lending more and more. From mortgages to financing on cars. Even more recently the duration of these loans has gotten shorter and shorter. With services like Klarna or After Pay allowing users to turn almost any transaction into a loan which can then be paid off in small instalments over some time (usually a few weeks).

### DeFi Loans
For blockchain and more specifically, DeFi protocols, loans have been a difficult system to implement. Of course, there are many places where you can take loans. [Kamino](https://app.kamino.finance/lending), [Rain.fi](https://rain.fi/) and more recently [Jupiter](https://jup.ag/lend/borrow) allow you to borrow a variety of tokens or NFTs with one catch. You have to [overcollateralize|Overcollateralized means you must deposit more value as collateral than the amount you borrow (e.g., lock $150 to borrow $100).] your loan.

This makes it ineffective as a means to leverage your current money. Or in other terms, these loans don't allow you to buy more than you can currently spend. Instead they are used to earn yield generated by the interest on these lending pools or access liquidity without reducing exposure to the underlying asset. i.e. borrowing USDC against SOL to to have USDC to spend while still being exposed to the SOL as you will get it back when the USDC loan is repaid.

### What are Flash Loans
Now that we understand what loans are and how general DeFi loans work we can talk about flash loans. 

>A flash loan consists of 2 instructions. Borrow and Repay with interest. When these instructions are packed into the same transaction and both amounts are valid. Then the transaction has the effect of borrowing any amount of capital without depositing any collateral.

Don't worry, I'll now explain the concept in *human* words (and with some pretty pictures).
First, transactions on multipurpose blockchains like Solana or Ethereum aren't just sending tokens from A to B, but are a bundle of instructions to execute. These instructions have to follow certain rules. Like respecting ownership and authority over [accounts|Accounts are the building blocks of Solana. They can represent a lot of different things, but for the most part are out of scope of this article]. Instructions are usually calling programs with some inputs. For example, to send a token from one wallet to another, a transaction is created with an instruction to invoke the `TransferChecked` instruction provided by the **Token Program** as shown in the picture bellow.

![](Pasted%20image%2020250821190328.png)

Lending protocols like [Marginfi](https://app.marginfi.com/) or [Kamino](https://app.kamino.finance/earn/lend) have on-chain programs that expose instructions like `Borrow` and `Repay` that allow the creation of transactions to start or repay loans. If they allow for it, transactions can be created that contain a `Borrow` instruction followed by some other instructions to trade something or swap something followed by a `Repay` instruction to repay the borrowed amount with interest. If the amount borrowed is available in the pool and the amount repaid is the borrowed amount plus interest then the transaction is executed and a flash loan is performed.



This all only works because the transaction fails if it does not obey the rules of the programs. The node processing the transaction will check to make sure that the repay amount is correct and everything else is valid before committing the transaction to the current block and making it a reality. If the instructions are invalid, the transaction fails and is not added to the current block. Therefore it didn't happen.